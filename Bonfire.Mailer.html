<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.4">
    <meta name="project" content="Bonfire v1.0.0-social-rc.3.26">


    <title>Bonfire.Mailer — Bonfire v1.0.0-social-rc.3.26</title>

    <link rel="stylesheet" href="dist/html-elixir-RLZO5U2C.css" />

    <script defer src="dist/sidebar_items-075BD5D1.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-Y223O6DN.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://bonfirenetworks.org" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Bonfire" />
        </a>

      <div>
        <a href="https://bonfirenetworks.org" class="sidebar-projectName" translate="no">
Bonfire
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v1.0.0-social-rc.3.26
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Bonfire</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">Bonfire.Mailer</span> 
      <small class="app-vsn" translate="no">(Bonfire v1.0.0-social-rc.3.26)</small>

    </h1>

      <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Email delivery is a crucial component of many web applications, including your Bonfire instance. It's used for various purposes such as:</p><ul><li>Sending signup confirmation emails</li><li>Delivering password reset links</li><li>Notifying users of new messages or activities</li><li>Sending alerts to administrators or moderators</li></ul><p>To set up email delivery for your Bonfire instance, you'll need to choose an email delivery method and configure it properly. This guide will help you through that process.</p><h2 id="module-before-you-begin" class="section-heading"><a href="#module-before-you-begin" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Before You Begin</span></h2><ol><li><p><strong>Choose Email Delivery Method and/or Provider</strong>: You may choose to sign up with one of the email service providers listed in this guide. Each provider has its own pricing, features, and delivery rates.</p></li><li><p><strong>Domain Configuration</strong>: To ensure reliable email delivery and avoid spam filters, you should configure your <a href="https://www.cloudflare.com/en-gb/learning/email-security/dmarc-dkim-spf/">email-related DNS settings</a> for your instance's domain name. This typically involves setting up:</p><ul><li>MX (Mail Exchanger) records</li><li>SPF (Sender Policy Framework) records</li><li>DKIM (DomainKeys Identified Mail) records</li><li>DMARC (Domain-based Message Authentication, Reporting, and Conformance) records</li></ul></li></ol><p>Your chosen email provider should provide instructions on how to set these up for your domain.</p><ol start="3"><li><strong>Environment Variables</strong>: Bonfire uses environment variables for configuration. You'll need to set these variables in your deployment environment or in a <code class="inline">.env</code> file if you're running Bonfire locally or using Co-op Cloud.</li></ol><p>For all email delivery methods, you'll need to set the following environment variables:</p><ul><li><code class="inline">MAIL_BACKEND</code> environment variable to choose your email delivery method or provider. </li><li><code class="inline">MAIL_DOMAIN</code> or <code class="inline">HOSTNAME</code>: Your domain name</li><li><code class="inline">MAIL_FROM</code>: The email address from which emails will be sent (this should match the domain name you set up with SPF/DKIM/DMARC, which will usually be your instance's domain)</li></ul><h2 id="module-choosing-an-email-delivery-method" class="section-heading"><a href="#module-choosing-an-email-delivery-method" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Choosing an Email Delivery Method</span></h2><h2 id="module-1-default-behaviour-direct-smtp-delivery" class="section-heading"><a href="#module-1-default-behaviour-direct-smtp-delivery" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">1. Default Behaviour: Direct SMTP Delivery</span></h2><p>If no specific email configuration is set, Bonfire will attempt to deliver emails directly to the recipients' SMTP servers. Here's what you need to know about this default behaviour:</p><ul><li><p><strong>What it means</strong>: Your server will try to connect directly to the recipient's email server (e.g. a provider such as Gmail or an organisation's own mail server) to deliver the email.</p></li><li><p><strong>Pros</strong>: It requires no additional configuration and can work for basic setups.</p></li><li><p><strong>Cons</strong>: This method is often unreliable and prone to several issues:</p><ol><li><strong>Spam Filters</strong>: Emails sent this way are more likely to be marked as spam or rejected entirely.</li><li><strong>Deliverability</strong>: Many recipient servers may flat-out reject IP addresses not properly set up for email sending.</li><li><strong>DNS Configuration</strong>: Without proper DNS records (SPF, DKIM, DMARK, etc.), your emails are more likely to be treated as suspicious.</li><li><strong>IP Reputation</strong>: If your server's IP address isn't established as a legitimate email sender, deliverability will suffer.</li></ol></li><li><p><strong>Important</strong>: While this default method can work for testing or in very small-scale scenarios, it is strongly recommended to configure a proper email delivery service for any production use of Bonfire. If you want to try this method anyway, make sure to configure <a href="https://www.cloudflare.com/en-gb/learning/email-security/dmarc-dkim-spf/">SPF, DKIM, DMARK, etc.</a> for your instance domain name and IP address.</p></li></ul><h3 id="module-2-managed-email-service-providers" class="section-heading"><a href="#module-2-managed-email-service-providers" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">2. Managed Email Service Providers</span></h3><p>These providers offer comprehensive email delivery services, usually featuring analytics, bounce handling, high deliverability rates, etc.</p><blockquote><p>Note: the information about free tiers and pricing are only meant to serve as a rough indication of the options available and may be outdated or inaccurate (we'd welcome PRs with any updates of course). Please check with each provider's website for more details.</p></blockquote><h4>Brevo (formerly Sendinblue)</h4><ul><li>Website: <a href="https://www.brevo.com/">brevo.com</a></li><li>Free Tier: 300 emails per day, then $15+/month or pay-as-you-go ($59 per 10,000 emails)  <pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">brevo</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_brevo_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Mailjet</h4><ul><li>Website: <a href="https://www.mailjet.com/">mailjet.com</a></li><li>Free Tier: 200 emails per day, then $17+/month<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">mailjet</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_mailjet_api_key</span><span class="w">
</span><span class="nc">MAIL_PRIVATE_KEY</span><span class="o">=</span><span class="n">your_mailjet_secret_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>SMTP2GO</h4><ul><li>Website: <a href="https://www.smtp2go.com/">smtp2go.com</a></li><li>Free Tier: 200 emails per day (up to 1,000 emails per month), then $10+/month<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="nc">SMTP2GO</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_smtp2go_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Mailtrap</h4><ul><li>Website: <a href="https://mailtrap.io/">mailtrap.io</a></li><li>Free Tier: 200 emails per day (up to 1,000 emails per month), then $15+/month<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">mailtrap</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_mailtrap_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Mailgun</h4><ul><li>Website: <a href="https://www.mailgun.com/">www.mailgun.com</a></li><li>Free Tier: 100 emails per day, then $15+/month<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">mailgun</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_mailgun_api_key</span><span class="w">
</span><span class="nc">MAIL_BASE_URI</span><span class="o">=</span><span class="n">https</span><span class="ss">://</span><span class="n">api</span><span class="o">.</span><span class="n">eu</span><span class="o">.</span><span class="n">mailgun</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">v3</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre>Note: The <code class="inline">MAIL_BASE_URI</code> depends on your Mailgun registration region. The default is set to EU, adjust if necessary.</li></ul><h4>Twilio SendGrid</h4><ul><li>Website: <a href="https://sendgrid.com/">sendgrid.com</a></li><li>Free Tier: 100 emails per day, then $20+/month<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">sendgrid</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_sendgrid_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Postmark</h4><ul><li>Website: <a href="https://postmarkapp.com/">postmarkapp.com</a></li><li>Free Tier: 100 emails per month, then $15+/month<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">postmark</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_postmark_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Zoho ZeptoMail</h4><ul><li>Website: <a href="https://www.zoho.com/zeptomail/">zoho.com</a></li><li>First 10,000 emails are free, then €2,50 per 10,000 emails<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">zepto</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_zeptomail_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Scaleway</h4><ul><li>Website: <a href="https://www.scaleway.com/en/transactional-email-tem/">scaleway.com</a></li><li>No free tier, pay-as-you-go pricing (€2.50 per 10,000 emails)<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">scaleway</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_scaleway_api_key</span><span class="w">
</span><span class="nc">MAIL_PROJECT_ID</span><span class="o">=</span><span class="n">your_scaleway_project_id</span><span class="w">
</span><span class="nc">MAIL_PRIVATE_KEY</span><span class="o">=</span><span class="n">your_scaleway_secret_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Gmail</h4><ul><li>Website: <a href="https://developers.google.com/gmail/api">gmail.com</a></li><li>Free Tier: 500 emails per day<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">gmail</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_gmail_api_key</span><span class="w"> 
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span><span class="w">
</span><span class="c1"># ^ OAuth2 access token with `gmail.compose` scope</span></code></pre>Note: Using Gmail for sending application email is generally not recommended for production use.</li></ul><h4>MailPace</h4><ul><li>Website: <a href="https://mailpace.com/">mailpace.com</a></li><li>No free tier, starts at £2.50 per month for up to 1,000 emails<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">mailpace</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_mailpace_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Mandrill (Mailchimp Transactional)</h4><ul><li>Website: <a href="https://mailchimp.com/features/transactional-email/">mailchimp.com</a></li><li>No free tier, pay-as-you-go pricing<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">mandrill</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_mandrill_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Bird / SparkPost</h4><ul><li>Website: <a href="https://bird.com/api/email">bird.com</a></li><li>No free tier, pay-as-you-go pricing<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">sparkpost</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_sparkpost_api_key</span><span class="w">
</span><span class="nc">MAIL_BASE_URI</span><span class="o">=</span><span class="n">https</span><span class="ss">://</span><span class="n">api</span><span class="o">.</span><span class="n">eu</span><span class="o">.</span><span class="n">sparkpost</span><span class="o">.</span><span class="n">com</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre>Note: The <code class="inline">MAIL_BASE_URI</code> depends on your SparkPost registration region. The default is set to EU, adjust if necessary.</li></ul><h4>Sendcloud (China)</h4><ul><li>Website: <a href="https://www.sendcloud.net/">sendcloud.net</a></li><li>Free Tier: 10 emails per day<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">sendcloud</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_sendcloud_api_key</span><span class="w">
</span><span class="nc">MAIL_USER</span><span class="o">=</span><span class="n">your_sendcloud_api_user</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>SocketLabs</h4><ul><li>Website: <a href="https://www.socketlabs.com/">socketlabs.com</a></li><li>No free tier<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">socketlabs</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_socketlabs_api_key</span><span class="w">
</span><span class="nc">MAIL_SERVER</span><span class="o">=</span><span class="n">your_socketlabs_server_id</span><span class="w">
</span><span class="nc">MAIL_PRIVATE_KEY</span><span class="o">=</span><span class="n">your_socketlabs_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Campaign Monitor</h4><ul><li>Website: <a href="https://www.campaignmonitor.com/">campaignmonitor.com</a></li><li>No free tier, pay-as-you-go pricing<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">campaign_monitor</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_campaign_monitor_api_key</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h4>Amazon AWS SES</h4><ul><li>Website: <a href="https://aws.amazon.com/ses/">aws.amazon.com</a></li><li>Free Tier: 3,000 message / month (only for the first 12 months, and extra AWS charges may still apply)</li></ul><p>Amazon SES can be configured in two ways:</p><ol><li><p>Using existing AWS credentials (if already configured for S3 file storage, you can simplify configuration and use the same AWS credentials for both file storage and email delivery):</p><pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">aws</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre><p>Note: This method will automatically use the credentials set by <code class="inline">UPLOADS_S3_ACCESS_KEY_ID</code> and <code class="inline">UPLOADS_S3_SECRET_ACCESS_KEY</code>. No additional configuration is needed if these are already set up for a Bonfire extension (such as <a href="https://hexdocs.pm/bonfire_files/0.1.0/Bonfire.Files.html"><code class="inline">Bonfire.Files</code></a>) which uses S3 file storage.</p></li><li><p>Using dedicated credentials, if you don't use AWS for S3 file storage or you want to use different AWS accounts for file storage and email delivery:</p><pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">aws</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_aws_access_key_id</span><span class="w">
</span><span class="nc">MAIL_PRIVATE_KEY</span><span class="o">=</span><span class="n">your_aws_secret_access_key</span><span class="w">
</span><span class="nc">MAIL_REGION</span><span class="o">=</span><span class="n">your_aws_region</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ol><p>Note: </p><ul><li>If not specified, <code class="inline">MAIL_REGION</code> defaults to &quot;eu-west-1&quot;.</li></ul><h3 id="module-3-direct-email-sending-methods" class="section-heading"><a href="#module-3-direct-email-sending-methods" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">3. Direct Email Sending Methods</span></h3><p>These methods involve sending emails directly or through your own mail server. They require more setup and maintenance but offer more control.</p><h4>Default: Direct SMTP Delivery</h4><ul><li>When no specific email configuration is set, Bonfire will attempt to deliver emails directly to the recipients' SMTP servers.</li><li>No additional configuration is needed as this is the default behaviour, but it's not recommended for production use due to deliverability issues (<a href="#module-default-behaviour-direct-smtp-delivery">see above</a>).</li></ul><h4>SMTP</h4><p>SMTP (Simple Mail Transfer Protocol) is the standard method for sending emails across the internet. It's like the postal service for digital messages, ensuring your emails reach their destination regardless of the systems involved. While many opt for using a dedicated email delivery provider (see above), if you already run your own email server or use a provider that's not listed above which provides you with SMTP credentials, you can configure Bonfire to use that:</p><pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">smtp</span><span class="w">
</span><span class="nc">MAIL_SERVER</span><span class="o">=</span><span class="n">your_smtp_server</span><span class="w">
</span><span class="nc">MAIL_PORT</span><span class="o">=</span><span class="mi">587</span><span class="w">
</span><span class="nc">MAIL_USER</span><span class="o">=</span><span class="n">your_smtp_username</span><span class="w">
</span><span class="nc">MAIL_PASSWORD</span><span class="o">=</span><span class="n">your_smtp_password</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span><span class="w">
</span><span class="nc">MAIL_SSL</span><span class="o">=</span><span class="no">true</span></code></pre><p>Notes: </p><ul><li><code class="inline">MAIL_PORT</code> defaults to <code class="inline">587</code> if not specified.</li><li><code class="inline">MAIL_SSL</code> defaults to <code class="inline">true</code>, set to <code class="inline">false</code> if server does not support SSL.</li></ul><h4>Sendmail</h4><ul><li>Built into many Unix-like operating systems<pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">sendmail</span><span class="w">
</span><span class="nc">MAIL_SERVER</span><span class="o">=</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">sendmail</span><span class="w">
</span><span class="c1"># MAIL_ARGS=</span><span class="w">
</span><span class="nc">MAIL_QMAIL</span><span class="o">=</span><span class="n">true_or_false</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><p>Notes: </p><ul><li><code class="inline">MAIL_SERVER</code> defaults to <code class="inline">/usr/bin/sendmail</code> if not specified.</li><li><code class="inline">MAIL_ARGS</code> defaults to <code class="inline">-N delay,failure,success</code> if not specified.</li><li>While sendmail can send mail directly (similar to the default behaviour), it can be set up to hand off emails to a local or remote SMTP server for delivery.</li><li>Using sendmail usually provides more control and logging capabilities compared to the default direct SMTP delivery.</li></ul><h4>Postal</h4><ul><li>Self-hosted email delivery platform</li><li>Website: <a href="https://docs.postalserver.io">postalserver.io</a><pre><code class="makeup elixir" translate="no"><span class="nc">MAIL_BACKEND</span><span class="o">=</span><span class="n">postal</span><span class="w">
</span><span class="nc">MAIL_KEY</span><span class="o">=</span><span class="n">your_postal_api_key</span><span class="w">
</span><span class="nc">MAIL_BASE_URI</span><span class="o">=</span><span class="n">https</span><span class="ss">://</span><span class="n">your_postal_server_api</span><span class="o">.</span><span class="n">uri</span><span class="o">/</span><span class="w">
</span><span class="nc">MAIL_FROM</span><span class="o">=</span><span class="n">email</span><span class="na">@instance</span><span class="o">.</span><span class="n">domain</span></code></pre></li></ul><h2 id="module-copyright-and-license" class="section-heading"><a href="#module-copyright-and-license" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Copyright and License</span></h2><p>Copyright (c) 2024 Bonfire Contributors</p><p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Affero General Public License for more details.</p><p>You should have received a copy of the GNU Affero General Public
License along with this program.  If not, see <a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#app_name/0" data-no-tooltip="" translate="no">app_name()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#deliver_async/1" data-no-tooltip="" translate="no">deliver_async(email)</a>

      </div>

        <div class="summary-synopsis"><p>Callback implementation for <a><code class="inline">Bonfire.Mailer.Behaviour.deliver_async/1</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#deliver_inline/1" data-no-tooltip="" translate="no">deliver_inline(email)</a>

      </div>

        <div class="summary-synopsis"><p>Callback implementation for <a><code class="inline">Bonfire.Mailer.Behaviour.deliver_inline/1</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#from/2" data-no-tooltip="" translate="no">from(email, address)</a>

      </div>

        <div class="summary-synopsis"><p>Callback implementation for <a><code class="inline">Bonfire.Mailer.Behaviour.from/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#handle_error/2" data-no-tooltip="" translate="no">handle_error(error, stacktrace \\ nil)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#html_body/2" data-no-tooltip="" translate="no">html_body(email, body)</a>

      </div>

        <div class="summary-synopsis"><p>Callback implementation for <a><code class="inline">Bonfire.Mailer.Behaviour.html_body/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#new/1" data-no-tooltip="" translate="no">new(data \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Callback implementation for <a><code class="inline">Bonfire.Mailer.Behaviour.new/1</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send/4" data-no-tooltip="" translate="no">send(email, to, mode \\ :async, opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send_app_feedback/3" data-no-tooltip="" translate="no">send_app_feedback(subject, body, opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send_async/3" data-no-tooltip="" translate="no">send_async(email, to, opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send_now/3" data-no-tooltip="" translate="no">send_now(email, to, opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start/2" data-no-tooltip="" translate="no">start(_, _)</a>

      </div>

        <div class="summary-synopsis"><p>Callback implementation for <a><code class="inline">Application.start/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#subject/2" data-no-tooltip="" translate="no">subject(email, subject)</a>

      </div>

        <div class="summary-synopsis"><p>Callback implementation for <a><code class="inline">Bonfire.Mailer.Behaviour.subject/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#text_body/2" data-no-tooltip="" translate="no">text_body(email, body)</a>

      </div>

        <div class="summary-synopsis"><p>Callback implementation for <a><code class="inline">Bonfire.Mailer.Behaviour.text_body/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to/2" data-no-tooltip="" translate="no">to(email, address)</a>

      </div>

        <div class="summary-synopsis"><p>Callback implementation for <a><code class="inline">Bonfire.Mailer.Behaviour.to/2</code></a>.</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>

    <div class="functions-list">
<section class="detail" id="app_name/0">

  <div class="detail-header">
    <a href="#app_name/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">app_name()</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L55" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="deliver_async/1">

  <div class="detail-header">
    <a href="#deliver_async/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">deliver_async(email)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L33" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Callback implementation for <a href="./Bonfire.Mailer.Behaviour.html#c:deliver_async/1"><code class="inline">Bonfire.Mailer.Behaviour.deliver_async/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="deliver_inline/1">

  <div class="detail-header">
    <a href="#deliver_inline/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">deliver_inline(email)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L32" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Callback implementation for <a href="./Bonfire.Mailer.Behaviour.html#c:deliver_inline/1"><code class="inline">Bonfire.Mailer.Behaviour.deliver_inline/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="from/2">

  <div class="detail-header">
    <a href="#from/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from(email, address)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L28" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Callback implementation for <a href="./Bonfire.Mailer.Behaviour.html#c:from/2"><code class="inline">Bonfire.Mailer.Behaviour.from/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="handle_error/2">

    <span id="handle_error/1"></span>

  <div class="detail-header">
    <a href="#handle_error/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">handle_error(error, stacktrace \\ nil)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L89" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="html_body/2">

  <div class="detail-header">
    <a href="#html_body/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">html_body(email, body)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L31" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Callback implementation for <a href="./Bonfire.Mailer.Behaviour.html#c:html_body/2"><code class="inline">Bonfire.Mailer.Behaviour.html_body/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="new/1">

    <span id="new/0"></span>

  <div class="detail-header">
    <a href="#new/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">new(data \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L26" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Callback implementation for <a href="./Bonfire.Mailer.Behaviour.html#c:new/1"><code class="inline">Bonfire.Mailer.Behaviour.new/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="send/4">

    <span id="send/2"></span>

    <span id="send/3"></span>

  <div class="detail-header">
    <a href="#send/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send(email, to, mode \\ :async, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L41" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="send_app_feedback/3">

    <span id="send_app_feedback/2"></span>

  <div class="detail-header">
    <a href="#send_app_feedback/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send_app_feedback(subject, body, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L44" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="send_async/3">

    <span id="send_async/2"></span>

  <div class="detail-header">
    <a href="#send_async/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send_async(email, to, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L38" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="send_now/3">

    <span id="send_now/2"></span>

  <div class="detail-header">
    <a href="#send_now/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send_now(email, to, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L35" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="start/2">

  <div class="detail-header">
    <a href="#start/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start(_, _)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L17" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Callback implementation for <a href="https://hexdocs.pm/elixir/Application.html#c:start/2"><code class="inline">Application.start/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="subject/2">

  <div class="detail-header">
    <a href="#subject/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">subject(email, subject)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L29" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Callback implementation for <a href="./Bonfire.Mailer.Behaviour.html#c:subject/2"><code class="inline">Bonfire.Mailer.Behaviour.subject/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="text_body/2">

  <div class="detail-header">
    <a href="#text_body/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">text_body(email, body)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L30" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Callback implementation for <a href="./Bonfire.Mailer.Behaviour.html#c:text_body/2"><code class="inline">Bonfire.Mailer.Behaviour.text_body/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="to/2">

  <div class="detail-header">
    <a href="#to/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to(email, address)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_mailer/blob/main/lib/mailer.ex#L27" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Callback implementation for <a href="./Bonfire.Mailer.Behaviour.html#c:to/2"><code class="inline">Bonfire.Mailer.Behaviour.to/2</code></a>.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Bonfire.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.4) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
