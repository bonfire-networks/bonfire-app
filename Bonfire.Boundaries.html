<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.4">
    <meta name="project" content="Bonfire v1.0.0-social-rc.3.26">


    <title>Bonfire.Boundaries â€” Bonfire v1.0.0-social-rc.3.26</title>

    <link rel="stylesheet" href="dist/html-elixir-RLZO5U2C.css" />

    <script defer src="dist/sidebar_items-075BD5D1.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-Y223O6DN.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://bonfirenetworks.org" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Bonfire" />
        </a>

      <div>
        <a href="https://bonfirenetworks.org" class="sidebar-projectName" translate="no">
Bonfire
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v1.0.0-social-rc.3.26
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Bonfire</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">Bonfire.Boundaries</span> 
      <small class="app-vsn" translate="no">(Bonfire v1.0.0-social-rc.3.26)</small>

    </h1>

      <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Bonfire's boundaries framework provides a flexible way to control user access to specific actions and data. It ensures that users can only see and do what they're authorized to.</p><p>You can create custom groups of contacts (circles) and grant them specific permissions to interact with you and your content. They can help you take control of your online presence and ensure that your data is shared only with the people you want.</p><blockquote><p>Boundaries are limits that you set for yourself or others to define what you're comfortable with.
These limits can be physical, like curtains or doors; digital, like sharing settings on social media; in writing, like codes of conduct; emotional, like feeling comfortable to take time for self-care; or mental, like choosing what you pay attention to. In Bonfire, boundaries can help limit the type of interactions that others may have with you or things you post.
Boundaries are important because they help you protect yourself, maintain your autonomy, and communicate your needs and expectations clearly.</p></blockquote><h2 id="module-glossary" class="section-heading"><a href="#module-glossary" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Glossary</span></h2><table><thead><tr><th style="text-align: left;">Term</th><th style="text-align: left;">Definition</th></tr></thead><tbody><tr><td style="text-align: left;"><strong>Subject</strong> or <strong>User</strong></td><td style="text-align: left;">An individual who interacts with the system.</td></tr><tr><td style="text-align: left;"><strong><a href="Bonfire.Boundaries.Circles.html">Circle</a></strong></td><td style="text-align: left;">A categorization method for users, allowing users to group other users (e.g., colleagues, friends).</td></tr><tr><td style="text-align: left;"><strong><a href="Bonfire.Boundaries.Verbs.html">Verb</a></strong></td><td style="text-align: left;">An action that a user can perform (e.g., read, reply).</td></tr><tr><td style="text-align: left;"><strong>Permission</strong></td><td style="text-align: left;">A value indicating whether an action is allowed (<code class="inline">true</code>), denied (<code class="inline">false</code>), or <code class="inline">nil</code>.</td></tr><tr><td style="text-align: left;"><strong><a href="Bonfire.Boundaries.Grants.html">Grant</a></strong></td><td style="text-align: left;">Links a user or circle with a verb and permission.</td></tr><tr><td style="text-align: left;"><strong><a href="Bonfire.Boundaries.Acls.html">ACL</a></strong></td><td style="text-align: left;">Access Control List, a collection of grants. Also called &quot;boundary&quot; or &quot;boundary preset&quot; in the app.</td></tr><tr><td style="text-align: left;"><strong><a href="Bonfire.Boundaries.Controlleds.html">Controlled</a></strong></td><td style="text-align: left;">Links an object to one or more ACLs, to determine access based on the grants.</td></tr><tr><td style="text-align: left;"><strong><a href="Bonfire.Boundaries.Roles.html">Role</a></strong></td><td style="text-align: left;">A group of verbs linked to a permission.</td></tr></tbody></table><h2 id="module-users-and-circles" class="section-heading"><a href="#module-users-and-circles" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Users and Circles</span></h2><p>Circles are a way of categorizing users. Each user can have their own set of circles to categorize other users. Circles allow a user to group work colleagues differently from friends for example, and to allow different interactions for users in each circle or limit content visibility on a per-item basis.</p><h2 id="module-verbs" class="section-heading"><a href="#module-verbs" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Verbs</span></h2><p>Verbs represent actions users can perform, such as reading a post or replying to a message. Each verb has a unique ID and are defined in configuration.</p><h2 id="module-permissions" class="section-heading"><a href="#module-permissions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Permissions</span></h2><p>A permission is a decision about whether the action may be performed or not. There are 3 possible values:</p><ul><li><code class="inline">true</code>: yes, the action is allowed</li><li><code class="inline">false</code>: no, the action is explicitly denied (i.e. never permit)</li><li><code class="inline">null</code>/<code class="inline">nil</code>: unknown, the action isn't explicitly allowed (defaults to not allowed)</li></ul><h3 id="module-grants" class="section-heading"><a href="#module-grants" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Grants</span></h3><p>A <code class="inline">Grant</code> links a <code class="inline">subject</code> (user or circle) with a <code class="inline">Verb</code> and a permission. It defines the access rights for a specific user or circle in relation to a particular action.</p><h2 id="module-acls" class="section-heading"><a href="#module-acls" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">ACLs</span></h2><p>An <code class="inline">Acl</code> is a list of <code class="inline">Grant</code>s used to define access permissions for objects.</p><p>Because a user could be in more than one circle and each circle may have a different permission, when a user attempts an action on an object, the system combines all relevant grants to determine the final permission. This combination prioritizes permissions as follows: <code class="inline">false &gt; true &gt; nil</code>, resulting in:</p><table><thead><tr><th style="text-align: left;">input</th><th style="text-align: left;">input</th><th style="text-align: left;">result</th></tr></thead><tbody><tr><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">nil</code></td></tr><tr><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">true</code></td></tr><tr><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr><tr><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">true</code></td></tr><tr><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">true</code></td></tr><tr><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr><tr><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">nil</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr><tr><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr><tr><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;"><code class="inline">false</code></td></tr></tbody></table><p>In simpler terms, a final permission is granted only if the combined result is <code class="inline">true</code>. Think of it as requiring an explicit &quot;yes&quot; for permission, while &quot;no&quot; always takes precedence. Notably, <code class="inline">nil</code> acts as a sort of &quot;weak no,&quot; it can be overridden by a <code class="inline">true</code> but not granting access on its own. This approach provides flexibility for implementing features like user blocking (<code class="inline">false</code> is crucial here).</p><p>For efficiency, <code class="inline">nil</code> is the assumed default and not stored in the database.</p><h2 id="module-controlled-applying-boundaries-to-an-object" class="section-heading"><a href="#module-controlled-applying-boundaries-to-an-object" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Controlled - Applying boundaries to an object</span></h2><p>The <code class="inline">Controlled</code> multimixin link an object to one or more ACLs. This allows for applying multiple boundaries to the same object. In case of overlapping permissions, the system combines them following the logic described above.</p><h3 id="module-roles" class="section-heading"><a href="#module-roles" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Roles</span></h3><p>Roles are groups of verbs associated with permissions. While not stored in the database, they are defined at the configuration level to enhance readability and user experience.</p><h2 id="module-practical-example-surprise-birthday-party" class="section-heading"><a href="#module-practical-example-surprise-birthday-party" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Practical example: Surprise birthday party</span></h2><p>Let's illustrate how boundaries work with a real-world example: planning a surprise party without the birthday girl finding out.</p><h3 id="module-1-setting-up-users" class="section-heading"><a href="#module-1-setting-up-users" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">1. Setting up users</span></h3><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nc">Bonfire.Me.Fake</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">organizer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fake_user!</span><span class="p" data-group-id="8542868659-1">(</span><span class="p" data-group-id="8542868659-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">birthday_girl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fake_user!</span><span class="p" data-group-id="8542868659-2">(</span><span class="p" data-group-id="8542868659-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">friends</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8542868659-3">[</span><span class="n">fake_user!</span><span class="p" data-group-id="8542868659-4">(</span><span class="p" data-group-id="8542868659-4">)</span><span class="p">,</span><span class="w"> </span><span class="n">fake_user!</span><span class="p" data-group-id="8542868659-5">(</span><span class="p" data-group-id="8542868659-5">)</span><span class="p" data-group-id="8542868659-3">]</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8542868659-6">[</span><span class="n">fake_user!</span><span class="p" data-group-id="8542868659-7">(</span><span class="p" data-group-id="8542868659-7">)</span><span class="p">,</span><span class="w"> </span><span class="n">fake_user!</span><span class="p" data-group-id="8542868659-8">(</span><span class="p" data-group-id="8542868659-8">)</span><span class="p" data-group-id="8542868659-6">]</span></code></pre><h3 id="module-2-define-your-circles" class="section-heading"><a href="#module-2-define-your-circles" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">2. Define your Circles</span></h3><p>Organize users into relevant circles (friends and family).</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">alias</span><span class="w"> </span><span class="nc">Bonfire.Boundaries.Circles</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2716306940-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">friends_circle</span><span class="p" data-group-id="2716306940-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Circles</span><span class="o">.</span><span class="n">create</span><span class="p" data-group-id="2716306940-2">(</span><span class="n">organizer</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2716306940-3">%{</span><span class="ss">named</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2716306940-4">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;friends&quot;</span><span class="p" data-group-id="2716306940-4">}</span><span class="p" data-group-id="2716306940-3">}</span><span class="p" data-group-id="2716306940-2">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Circles</span><span class="o">.</span><span class="n">add_to_circles</span><span class="p" data-group-id="2716306940-5">(</span><span class="n">friends</span><span class="p">,</span><span class="w"> </span><span class="n">friends_circle</span><span class="p" data-group-id="2716306940-5">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Circles</span><span class="o">.</span><span class="n">is_encircled_by?</span><span class="p" data-group-id="2716306940-6">(</span><span class="nc">List</span><span class="o">.</span><span class="n">first</span><span class="p" data-group-id="2716306940-7">(</span><span class="n">friends</span><span class="p" data-group-id="2716306940-7">)</span><span class="p">,</span><span class="w"> </span><span class="n">friends_circle</span><span class="p" data-group-id="2716306940-6">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2716306940-8">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">family_circle</span><span class="p" data-group-id="2716306940-8">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Circles</span><span class="o">.</span><span class="n">create</span><span class="p" data-group-id="2716306940-9">(</span><span class="n">organizer</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2716306940-10">%{</span><span class="ss">named</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2716306940-11">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;family&quot;</span><span class="p" data-group-id="2716306940-11">}</span><span class="p" data-group-id="2716306940-10">}</span><span class="p" data-group-id="2716306940-9">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Circles</span><span class="o">.</span><span class="n">add_to_circles</span><span class="p" data-group-id="2716306940-12">(</span><span class="n">family</span><span class="p">,</span><span class="w"> </span><span class="n">family_circle</span><span class="p" data-group-id="2716306940-12">)</span></code></pre><h3 id="module-3-create-the-acl-boundary-preset" class="section-heading"><a href="#module-3-create-the-acl-boundary-preset" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">3. Create the ACL (boundary preset)</span></h3><p>This boundary will control access to the surprise party plans.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">alias</span><span class="w"> </span><span class="nc">Bonfire.Boundaries.Acls</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="7640908370-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="p" data-group-id="7640908370-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Acls</span><span class="o">.</span><span class="n">simple_create</span><span class="p" data-group-id="7640908370-2">(</span><span class="n">organizer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Surprise party&quot;</span><span class="p" data-group-id="7640908370-2">)</span></code></pre><h3 id="module-4-grant-permissions" class="section-heading"><a href="#module-4-grant-permissions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">4. Grant permissions</span></h3><p>Allow friends to discover, read, and respond to party plans, while family members can also edit details and send invitations.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">alias</span><span class="w"> </span><span class="nc">Bonfire.Boundaries.Grants</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Grants</span><span class="o">.</span><span class="n">grant</span><span class="p" data-group-id="5089166151-1">(</span><span class="n">friends_circle</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5089166151-2">[</span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p">,</span><span class="w"> </span><span class="ss">:reply</span><span class="p" data-group-id="5089166151-2">]</span><span class="p">,</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">organizer</span><span class="p" data-group-id="5089166151-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Grants</span><span class="o">.</span><span class="n">grant</span><span class="p" data-group-id="5089166151-3">(</span><span class="n">family_circle</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5089166151-4">[</span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p">,</span><span class="w"> </span><span class="ss">:reply</span><span class="p">,</span><span class="w"> </span><span class="ss">:edit</span><span class="p">,</span><span class="w"> </span><span class="ss">:invite</span><span class="p" data-group-id="5089166151-4">]</span><span class="p">,</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">organizer</span><span class="p" data-group-id="5089166151-3">)</span></code></pre><p>Prevent the birthday person from accessing any party information.</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Grants</span><span class="o">.</span><span class="n">grant</span><span class="p" data-group-id="9607627825-1">(</span><span class="n">birthday_girl</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9607627825-2">[</span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p" data-group-id="9607627825-2">]</span><span class="p">,</span><span class="w"> </span><span class="no">false</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">organizer</span><span class="p" data-group-id="9607627825-1">)</span></code></pre><h3 id="module-5-post-about-the-party" class="section-heading"><a href="#module-5-post-about-the-party" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">5. Post about the party</span></h3><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kn">alias</span><span class="w"> </span><span class="nc">Bonfire.Posts</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="p" data-group-id="2422217514-1">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">party_plan</span><span class="p" data-group-id="2422217514-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Posts</span><span class="o">.</span><span class="n">publish</span><span class="p" data-group-id="2422217514-2">(</span><span class="w">
        </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">organizer</span><span class="p">,</span><span class="w">
        </span><span class="ss">boundary</span><span class="p">:</span><span class="w"> </span><span class="n">boundary</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w">
        </span><span class="ss">post_attrs</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2422217514-3">%{</span><span class="ss">post_content</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2422217514-4">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Surprise party!&quot;</span><span class="p" data-group-id="2422217514-4">}</span><span class="p" data-group-id="2422217514-3">}</span><span class="p" data-group-id="2422217514-2">)</span></code></pre><h3 id="module-6-double-check-applied-boundaries" class="section-heading"><a href="#module-6-double-check-applied-boundaries" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">6. Double-check applied boundaries</span></h3><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Boundaries</span><span class="o">.</span><span class="n">can?</span><span class="p" data-group-id="4196890489-1">(</span><span class="nc">List</span><span class="o">.</span><span class="n">first</span><span class="p" data-group-id="4196890489-2">(</span><span class="n">friends</span><span class="p" data-group-id="4196890489-2">)</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p">,</span><span class="w"> </span><span class="n">party_plan</span><span class="o">.</span><span class="n">id</span><span class="p" data-group-id="4196890489-1">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Boundaries</span><span class="o">.</span><span class="n">can?</span><span class="p" data-group-id="4196890489-3">(</span><span class="nc">List</span><span class="o">.</span><span class="n">first</span><span class="p" data-group-id="4196890489-4">(</span><span class="n">family</span><span class="p" data-group-id="4196890489-4">)</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="ss">:invite</span><span class="p">,</span><span class="w"> </span><span class="n">party_plan</span><span class="o">.</span><span class="n">id</span><span class="p" data-group-id="4196890489-3">)</span><span class="w">
</span><span class="no">true</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Boundaries</span><span class="o">.</span><span class="n">can?</span><span class="p" data-group-id="4196890489-5">(</span><span class="n">birthday_girl</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="n">party_plan</span><span class="o">.</span><span class="n">id</span><span class="p" data-group-id="4196890489-5">)</span><span class="w">
</span><span class="no">false</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">Boundaries</span><span class="o">.</span><span class="n">load_pointer</span><span class="p" data-group-id="4196890489-6">(</span><span class="n">party_plan</span><span class="o">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">birthday_girl</span><span class="p" data-group-id="4196890489-6">)</span><span class="w">
</span><span class="no">nil</span></code></pre><p>By following these steps, the organizer can effectively manage access to ensure the birthday girl cannot see the party plans, while friends and family can.</p><h2 id="module-copyright-and-license" class="section-heading"><a href="#module-copyright-and-license" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Copyright and License</span></h2><p>Copyright (c) 2020 Bonfire Contributors</p><p>This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, You can obtain one at <a href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#acls_from_preset_boundary_names/1" data-no-tooltip="" translate="no">acls_from_preset_boundary_names(presets)</a>

      </div>

        <div class="summary-synopsis"><p>Returns ACLs for a set of preset boundary names.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#boundaries_normalise/1" data-no-tooltip="" translate="no">boundaries_normalise(text)</a>

      </div>

        <div class="summary-synopsis"><p>Normalizes boundaries represented as text or list.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#boundaries_on_objects/2" data-no-tooltip="" translate="no">boundaries_on_objects(list_of_ids, current_user)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#boundaries_on_objects/3" data-no-tooltip="" translate="no">boundaries_on_objects(list_of_ids, presets, current_user)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#boundaries_or_default/2" data-no-tooltip="" translate="no">boundaries_or_default(to_boundaries, context \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns custom boundaries or a default set of boundaries to use</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#boundary_on_object/2" data-no-tooltip="" translate="no">boundary_on_object(id, current_user)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#boundary_on_object/3" data-no-tooltip="" translate="no">boundary_on_object(id, preset \\ nil, current_user)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can!/4" data-no-tooltip="" translate="no">can!(subject, verbs, object, opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can?/4" data-no-tooltip="" translate="no">can?(subject, verbs, object, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Checks if a subject has permission to conduct the specified action(s)/verb(s) on an object.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#default_boundaries/1" data-no-tooltip="" translate="no">default_boundaries(context \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns default boundaries to use based on the provided context.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#filter_circles_who_can/4" data-no-tooltip="" translate="no">filter_circles_who_can(circles, verbs, object, opts \\ [])</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_caretaker_stereotype/3" data-no-tooltip="" translate="no">find_caretaker_stereotype(caretaker, stereotype, from \\ Pointer)</a>

      </div>

        <div class="summary-synopsis"><p>Finds a caretaker stereotype based on the specified caretaker and stereotype IDs.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_caretaker_stereotypes/3" data-no-tooltip="" translate="no">find_caretaker_stereotypes(caretaker, stereotypes, from \\ Pointer)</a>

      </div>

        <div class="summary-synopsis"><p>Finds caretaker stereotypes based on the specified caretaker and stereotype IDs.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_grants_on/1" data-no-tooltip="" translate="no">list_grants_on(things)</a>

      </div>

        <div class="summary-synopsis"><p>Lists grants for a given set of objects.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_grants_on/2" data-no-tooltip="" translate="no">list_grants_on(things, verbs)</a>

      </div>

        <div class="summary-synopsis"><p>Lists grants for a given set of objects and verbs.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_object_acls/2" data-no-tooltip="" translate="no">list_object_acls(object, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Lists ACLs for a given object.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_object_boundaries/2" data-no-tooltip="" translate="no">list_object_boundaries(object, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Lists boundaries (ACLs and grants) for a given object </p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_user_circles_who_can/4" data-no-tooltip="" translate="no">list_user_circles_who_can(user, verbs, object, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns a list of built-in and stereotyped circle structs for the subject that have permission for the given verb(s) on the object.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#load_pointer/2" data-no-tooltip="" translate="no">load_pointer(item, opts)</a>

      </div>

        <div class="summary-synopsis"><p>Loads a pointer based on the permissions which are checked based on provided options.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#load_pointers/2" data-no-tooltip="" translate="no">load_pointers(items, opts)</a>

      </div>

        <div class="summary-synopsis"><p>Loads pointers based on boundaries (which are checked based on provided options) and returns a list of permitted pointers.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#load_pointers!/2" data-no-tooltip="" translate="no">load_pointers!(items, opts)</a>

      </div>

        <div class="summary-synopsis"><p>Loads pointers based on boundaries (which are checked based on provided options) and raises an error if not all pointers are permitted.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#object_acls_public?/1" data-no-tooltip="" translate="no">object_acls_public?(acls)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#object_public?/1" data-no-tooltip="" translate="no">object_public?(object)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#pointer_permitted?/2" data-no-tooltip="" translate="no">pointer_permitted?(item, opts)</a>

      </div>

        <div class="summary-synopsis"><p>Checks if a pointer has permission based on the specified options.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#preset_boundary_from_acl/2" data-no-tooltip="" translate="no">preset_boundary_from_acl(acl, object_type \\ nil)</a>

      </div>

        <div class="summary-synopsis"><p>Converts an ACL to a preset boundary name based on the object type.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#preset_boundary_tuple_from_acl/3" data-no-tooltip="" translate="no">preset_boundary_tuple_from_acl(acl, object_type \\ nil, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Converts an ACL to a preset boundary tuple based on the object type.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#preset_name/2" data-no-tooltip="" translate="no">preset_name(boundaries, include_remote? \\ false)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the name of a preset boundary given a list of boundaries or other boundary representation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#set_boundaries/3" data-no-tooltip="" translate="no">set_boundaries(creator, object, opts)</a>

      </div>

        <div class="summary-synopsis"><p>Sets or replace boundaries for a given object.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#take_care_of!/2" data-no-tooltip="" translate="no">take_care_of!(things, user)</a>

      </div>

        <div class="summary-synopsis"><p>Assigns the user as the caretaker of the given object or objects, replacing the existing caretaker, if any.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#user_default_boundaries/1" data-no-tooltip="" translate="no">user_default_boundaries(local?)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the default boundaries to be set for new users from config.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#users_grants_on/2" data-no-tooltip="" translate="no">users_grants_on(users, things)</a>

      </div>

        <div class="summary-synopsis"><p>Lists grants for a given set of users on a set of objects.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#users_grants_on/3" data-no-tooltip="" translate="no">users_grants_on(users, things, verbs)</a>

      </div>

        <div class="summary-synopsis"><p>Lists grants for a given set of users on a set of objects, filtered by verbs.</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>

    <div class="functions-list">
<section class="detail" id="acls_from_preset_boundary_names/1">

  <div class="detail-header">
    <a href="#acls_from_preset_boundary_names/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">acls_from_preset_boundary_names(presets)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L362" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Returns ACLs for a set of preset boundary names.</p><h2 id="acls_from_preset_boundary_names/1-examples" class="section-heading"><a href="#acls_from_preset_boundary_names/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">acls_from_preset_boundary_names</span><span class="p" data-group-id="1057485183-1">(</span><span class="p" data-group-id="1057485183-2">[</span><span class="s">&quot;public&quot;</span><span class="p" data-group-id="1057485183-2">]</span><span class="p" data-group-id="1057485183-1">)</span></code></pre>
  </section>
</section>
<section class="detail" id="boundaries_normalise/1">

  <div class="detail-header">
    <a href="#boundaries_normalise/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">boundaries_normalise(text)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L153" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Normalizes boundaries represented as text or list.</p><h2 id="boundaries_normalise/1-examples" class="section-heading"><a href="#boundaries_normalise/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">boundaries_normalise</span><span class="p" data-group-id="0550234126-1">(</span><span class="s">&quot;local,public&quot;</span><span class="p" data-group-id="0550234126-1">)</span><span class="w">
</span><span class="p" data-group-id="0550234126-2">[</span><span class="s">&quot;local&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;public&quot;</span><span class="p" data-group-id="0550234126-2">]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">boundaries_normalise</span><span class="p" data-group-id="0550234126-3">(</span><span class="p" data-group-id="0550234126-4">[</span><span class="s">&quot;local&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;public&quot;</span><span class="p" data-group-id="0550234126-4">]</span><span class="p" data-group-id="0550234126-3">)</span><span class="w">
</span><span class="p" data-group-id="0550234126-5">[</span><span class="s">&quot;local&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;public&quot;</span><span class="p" data-group-id="0550234126-5">]</span></code></pre>
  </section>
</section>
<section class="detail" id="boundaries_on_objects/2">

  <div class="detail-header">
    <a href="#boundaries_on_objects/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">boundaries_on_objects(list_of_ids, current_user)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L211" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="boundaries_on_objects/3">

  <div class="detail-header">
    <a href="#boundaries_on_objects/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">boundaries_on_objects(list_of_ids, presets, current_user)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L219" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="boundaries_or_default/2">

    <span id="boundaries_or_default/1"></span>

  <div class="detail-header">
    <a href="#boundaries_or_default/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">boundaries_or_default(to_boundaries, context \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L90" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Returns custom boundaries or a default set of boundaries to use</p><h2 id="boundaries_or_default/2-examples" class="section-heading"><a href="#boundaries_or_default/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">boundaries_or_default</span><span class="p" data-group-id="8128271998-1">(</span><span class="p" data-group-id="8128271998-2">[</span><span class="s">&quot;local&quot;</span><span class="p" data-group-id="8128271998-2">]</span><span class="p" data-group-id="8128271998-1">)</span><span class="w">
</span><span class="p" data-group-id="8128271998-3">[</span><span class="s">&quot;local&quot;</span><span class="p" data-group-id="8128271998-3">]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">boundaries_or_default</span><span class="p" data-group-id="8128271998-4">(</span><span class="no">nil</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">me</span><span class="p" data-group-id="8128271998-4">)</span><span class="w">
</span><span class="p" data-group-id="8128271998-5">[</span><span class="p" data-group-id="8128271998-6">{</span><span class="s">&quot;public&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Public&quot;</span><span class="p" data-group-id="8128271998-6">}</span><span class="p" data-group-id="8128271998-5">]</span></code></pre>
  </section>
</section>
<section class="detail" id="boundary_on_object/2">

  <div class="detail-header">
    <a href="#boundary_on_object/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">boundary_on_object(id, current_user)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L238" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="boundary_on_object/3">

  <div class="detail-header">
    <a href="#boundary_on_object/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">boundary_on_object(id, preset \\ nil, current_user)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L242" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="can!/4">

    <span id="can!/3"></span>

  <div class="detail-header">
    <a href="#can!/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can!(subject, verbs, object, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L745" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="can?/4">

    <span id="can?/3"></span>

  <div class="detail-header">
    <a href="#can?/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can?(subject, verbs, object, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L635" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Checks if a subject has permission to conduct the specified action(s)/verb(s) on an object.</p><h2 id="can?/4-examples" class="section-heading"><a href="#can?/4-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">can?</span><span class="p" data-group-id="2235217349-1">(</span><span class="p" data-group-id="2235217349-2">%</span><span class="nc" data-group-id="2235217349-2">User</span><span class="p" data-group-id="2235217349-2">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="2235217349-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2235217349-3">[</span><span class="ss">:see</span><span class="p" data-group-id="2235217349-3">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2235217349-4">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="2235217349-4">}</span><span class="p" data-group-id="2235217349-1">)</span><span class="w">
</span><span class="no">false</span></code></pre>
  </section>
</section>
<section class="detail" id="default_boundaries/1">

    <span id="default_boundaries/0"></span>

  <div class="detail-header">
    <a href="#default_boundaries/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">default_boundaries(context \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L117" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Returns default boundaries to use based on the provided context.</p><h2 id="default_boundaries/1-examples" class="section-heading"><a href="#default_boundaries/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">default_boundaries</span><span class="p" data-group-id="4100965788-1">(</span><span class="p" data-group-id="4100965788-1">)</span><span class="w">
</span><span class="p" data-group-id="4100965788-2">[</span><span class="p" data-group-id="4100965788-3">{</span><span class="s">&quot;public&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Public&quot;</span><span class="p" data-group-id="4100965788-3">}</span><span class="p" data-group-id="4100965788-2">]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">default_boundaries</span><span class="p" data-group-id="4100965788-4">(</span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="n">me</span><span class="p" data-group-id="4100965788-4">)</span><span class="w">
</span><span class="p" data-group-id="4100965788-5">[</span><span class="p" data-group-id="4100965788-6">{</span><span class="s">&quot;local&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Local&quot;</span><span class="p" data-group-id="4100965788-6">}</span><span class="p" data-group-id="4100965788-5">]</span></code></pre>
  </section>
</section>
<section class="detail" id="filter_circles_who_can/4">

    <span id="filter_circles_who_can/3"></span>

  <div class="detail-header">
    <a href="#filter_circles_who_can/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">filter_circles_who_can(circles, verbs, object, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L920" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="find_caretaker_stereotype/3">

    <span id="find_caretaker_stereotype/2"></span>

  <div class="detail-header">
    <a href="#find_caretaker_stereotype/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_caretaker_stereotype(caretaker, stereotype, from \\ Pointer)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L877" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Finds a caretaker stereotype based on the specified caretaker and stereotype IDs.</p>
  </section>
</section>
<section class="detail" id="find_caretaker_stereotypes/3">

    <span id="find_caretaker_stereotypes/2"></span>

  <div class="detail-header">
    <a href="#find_caretaker_stereotypes/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_caretaker_stereotypes(caretaker, stereotypes, from \\ Pointer)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L868" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Finds caretaker stereotypes based on the specified caretaker and stereotype IDs.</p><h2 id="find_caretaker_stereotypes/3-examples" class="section-heading"><a href="#find_caretaker_stereotypes/3-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">find_caretaker_stereotypes</span><span class="p" data-group-id="7293119156-1">(</span><span class="p" data-group-id="7293119156-2">%</span><span class="nc" data-group-id="7293119156-2">User</span><span class="p" data-group-id="7293119156-2">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="7293119156-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7293119156-3">[</span><span class="p" data-group-id="7293119156-4">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="7293119156-4">}</span><span class="p" data-group-id="7293119156-3">]</span><span class="p" data-group-id="7293119156-1">)</span><span class="w">
</span><span class="p" data-group-id="7293119156-5">[</span><span class="p" data-group-id="7293119156-6">%</span><span class="nc" data-group-id="7293119156-6">Needle.Pointer</span><span class="p" data-group-id="7293119156-6">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="7293119156-6">}</span><span class="p" data-group-id="7293119156-5">]</span></code></pre>
  </section>
</section>
<section class="detail" id="list_grants_on/1">

  <div class="detail-header">
    <a href="#list_grants_on/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_grants_on(things)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L270" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Lists grants for a given set of objects.</p><h2 id="list_grants_on/1-examples" class="section-heading"><a href="#list_grants_on/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">list_grants_on</span><span class="p" data-group-id="1390041667-1">(</span><span class="p" data-group-id="1390041667-2">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="1390041667-2">]</span><span class="p" data-group-id="1390041667-1">)</span></code></pre>
  </section>
</section>
<section class="detail" id="list_grants_on/2">

  <div class="detail-header">
    <a href="#list_grants_on/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_grants_on(things, verbs)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L284" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Lists grants for a given set of objects and verbs.</p><h2 id="list_grants_on/2-examples" class="section-heading"><a href="#list_grants_on/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">list_grants_on</span><span class="p" data-group-id="8634202948-1">(</span><span class="p" data-group-id="8634202948-2">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="8634202948-2">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8634202948-3">[</span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p" data-group-id="8634202948-3">]</span><span class="p" data-group-id="8634202948-1">)</span></code></pre>
  </section>
</section>
<section class="detail" id="list_object_acls/2">

    <span id="list_object_acls/1"></span>

  <div class="detail-header">
    <a href="#list_object_acls/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_object_acls(object, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L180" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Lists ACLs for a given object.</p><h2 id="list_object_acls/2-examples" class="section-heading"><a href="#list_object_acls/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">list_object_acls</span><span class="p" data-group-id="7184877431-1">(</span><span class="p" data-group-id="7184877431-2">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="7184877431-2">}</span><span class="p" data-group-id="7184877431-1">)</span><span class="w">
</span><span class="p" data-group-id="7184877431-3">[</span><span class="p" data-group-id="7184877431-4">%</span><span class="nc" data-group-id="7184877431-4">Bonfire.Data.AccessControl.Acl</span><span class="p" data-group-id="7184877431-4">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p" data-group-id="7184877431-4">}</span><span class="p" data-group-id="7184877431-3">]</span></code></pre>
  </section>
</section>
<section class="detail" id="list_object_boundaries/2">

    <span id="list_object_boundaries/1"></span>

  <div class="detail-header">
    <a href="#list_object_boundaries/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_object_boundaries(object, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L205" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Lists boundaries (ACLs and grants) for a given object </p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">list_object_boundaries</span><span class="p" data-group-id="1346744487-1">(</span><span class="p" data-group-id="1346744487-2">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1346744487-2">}</span><span class="p" data-group-id="1346744487-1">)</span><span class="w">
</span><span class="p" data-group-id="1346744487-3">[</span><span class="p" data-group-id="1346744487-4">%</span><span class="nc" data-group-id="1346744487-4">Bonfire.Data.AccessControl.Acl</span><span class="p" data-group-id="1346744487-4">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="ss">grants</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1346744487-5">[</span><span class="n">...</span><span class="p" data-group-id="1346744487-5">]</span><span class="p" data-group-id="1346744487-4">}</span><span class="p" data-group-id="1346744487-3">]</span></code></pre>
  </section>
</section>
<section class="detail" id="list_user_circles_who_can/4">

    <span id="list_user_circles_who_can/3"></span>

  <div class="detail-header">
    <a href="#list_user_circles_who_can/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_user_circles_who_can(user, verbs, object, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L913" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Returns a list of built-in and stereotyped circle structs for the subject that have permission for the given verb(s) on the object.</p><h2 id="list_user_circles_who_can/4-options" class="section-heading"><a href="#list_user_circles_who_can/4-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options</span></h2><ul><li><code class="inline">:include_circles</code> - restrict which built-in circles to check (list of atoms, defaults to all)</li><li><code class="inline">:return</code> - set to <code class="inline">:names</code> to return a list of circle slugs/atoms (e.g. <code class="inline">:followers</code>, <code class="inline">:public</code>), or <code class="inline">:structs</code> to return Circle structs, or <code class="inline">:ids</code> to just return circles IDs (default)</li></ul><h2 id="list_user_circles_who_can/4-examples" class="section-heading"><a href="#list_user_circles_who_can/4-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">list_user_circles_who_can</span><span class="p" data-group-id="3060534111-1">(</span><span class="n">subject</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3060534111-2">[</span><span class="ss">:read</span><span class="p" data-group-id="3060534111-2">]</span><span class="p">,</span><span class="w"> </span><span class="n">object</span><span class="p" data-group-id="3060534111-1">)</span><span class="w">
</span><span class="p" data-group-id="3060534111-3">[</span><span class="p" data-group-id="3060534111-4">%</span><span class="nc" data-group-id="3060534111-4">Circle</span><span class="p" data-group-id="3060534111-4">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="n">...</span><span class="p" data-group-id="3060534111-4">}</span><span class="p">,</span><span class="w"> </span><span class="n">...</span><span class="p" data-group-id="3060534111-3">]</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">list_user_circles_who_can</span><span class="p" data-group-id="3060534111-5">(</span><span class="n">subject</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3060534111-6">[</span><span class="ss">:read</span><span class="p" data-group-id="3060534111-6">]</span><span class="p">,</span><span class="w"> </span><span class="n">object</span><span class="p">,</span><span class="w"> </span><span class="ss">include_circles</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3060534111-7">[</span><span class="ss">:followers</span><span class="p">,</span><span class="w"> </span><span class="ss">:public</span><span class="p" data-group-id="3060534111-7">]</span><span class="p">,</span><span class="w"> </span><span class="ss">return</span><span class="p">:</span><span class="w"> </span><span class="ss">:names</span><span class="p" data-group-id="3060534111-5">)</span><span class="w">
</span><span class="p" data-group-id="3060534111-8">[</span><span class="ss">:followers</span><span class="p" data-group-id="3060534111-8">]</span></code></pre>
  </section>
</section>
<section class="detail" id="load_pointer/2">

  <div class="detail-header">
    <a href="#load_pointer/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">load_pointer(item, opts)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L796" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Loads a pointer based on the permissions which are checked based on provided options.</p><h2 id="load_pointer/2-examples" class="section-heading"><a href="#load_pointer/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">load_pointer</span><span class="p" data-group-id="4543039054-1">(</span><span class="p" data-group-id="4543039054-2">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4543039054-2">}</span><span class="p">,</span><span class="w"> </span><span class="ss">verbs</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4543039054-3">[</span><span class="ss">:read</span><span class="p" data-group-id="4543039054-3">]</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4543039054-4">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="4543039054-4">}</span><span class="p" data-group-id="4543039054-1">)</span><span class="w">
</span><span class="p" data-group-id="4543039054-5">%</span><span class="nc" data-group-id="4543039054-5">Needle.Pointer</span><span class="p" data-group-id="4543039054-5">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4543039054-5">}</span></code></pre>
  </section>
</section>
<section class="detail" id="load_pointers/2">

  <div class="detail-header">
    <a href="#load_pointers/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">load_pointers(items, opts)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L820" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Loads pointers based on boundaries (which are checked based on provided options) and returns a list of permitted pointers.</p><h2 id="load_pointers/2-examples" class="section-heading"><a href="#load_pointers/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">load_pointers</span><span class="p" data-group-id="1248781997-1">(</span><span class="p" data-group-id="1248781997-2">[</span><span class="p" data-group-id="1248781997-3">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1248781997-3">}</span><span class="p" data-group-id="1248781997-2">]</span><span class="p">,</span><span class="w"> </span><span class="ss">verbs</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1248781997-4">[</span><span class="ss">:read</span><span class="p" data-group-id="1248781997-4">]</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1248781997-5">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="1248781997-5">}</span><span class="p" data-group-id="1248781997-1">)</span><span class="w">
</span><span class="p" data-group-id="1248781997-6">[</span><span class="p" data-group-id="1248781997-7">%</span><span class="nc" data-group-id="1248781997-7">Needle.Pointer</span><span class="p" data-group-id="1248781997-7">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1248781997-7">}</span><span class="p" data-group-id="1248781997-6">]</span></code></pre>
  </section>
</section>
<section class="detail" id="load_pointers!/2">

  <div class="detail-header">
    <a href="#load_pointers!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">load_pointers!(items, opts)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L838" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Loads pointers based on boundaries (which are checked based on provided options) and raises an error if not all pointers are permitted.</p>
  </section>
</section>
<section class="detail" id="object_acls_public?/1">

  <div class="detail-header">
    <a href="#object_acls_public?/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">object_acls_public?(acls)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L194" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="object_public?/1">

  <div class="detail-header">
    <a href="#object_public?/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">object_public?(object)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L186" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="pointer_permitted?/2">

  <div class="detail-header">
    <a href="#pointer_permitted?/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">pointer_permitted?(item, opts)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L772" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Checks if a pointer has permission based on the specified options.</p><h2 id="pointer_permitted?/2-examples" class="section-heading"><a href="#pointer_permitted?/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">pointer_permitted?</span><span class="p" data-group-id="8923767467-1">(</span><span class="p" data-group-id="8923767467-2">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8923767467-2">}</span><span class="p">,</span><span class="w"> </span><span class="ss">verbs</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8923767467-3">[</span><span class="ss">:edit</span><span class="p" data-group-id="8923767467-3">]</span><span class="p">,</span><span class="w"> </span><span class="ss">current_user</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8923767467-4">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8923767467-4">}</span><span class="p" data-group-id="8923767467-1">)</span><span class="w">
</span><span class="no">true</span></code></pre>
  </section>
</section>
<section class="detail" id="preset_boundary_from_acl/2">

    <span id="preset_boundary_from_acl/1"></span>

  <div class="detail-header">
    <a href="#preset_boundary_from_acl/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">preset_boundary_from_acl(acl, object_type \\ nil)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L390" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Converts an ACL to a preset boundary name based on the object type.</p><h2 id="preset_boundary_from_acl/2-examples" class="section-heading"><a href="#preset_boundary_from_acl/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">preset_boundary_from_acl</span><span class="p" data-group-id="3109128835-1">(</span><span class="p" data-group-id="3109128835-2">%</span><span class="nc" data-group-id="3109128835-2">Bonfire.Data.AccessControl.Acl</span><span class="p" data-group-id="3109128835-2">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="3109128835-2">}</span><span class="p" data-group-id="3109128835-1">)</span><span class="w">
</span><span class="p" data-group-id="3109128835-3">{</span><span class="s">&quot;public&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Public&quot;</span><span class="p" data-group-id="3109128835-3">}</span></code></pre>
  </section>
</section>
<section class="detail" id="preset_boundary_tuple_from_acl/3">

    <span id="preset_boundary_tuple_from_acl/1"></span>

    <span id="preset_boundary_tuple_from_acl/2"></span>

  <div class="detail-header">
    <a href="#preset_boundary_tuple_from_acl/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">preset_boundary_tuple_from_acl(acl, object_type \\ nil, opts \\ [])</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L421" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Converts an ACL to a preset boundary tuple based on the object type.</p><h2 id="preset_boundary_tuple_from_acl/3-examples" class="section-heading"><a href="#preset_boundary_tuple_from_acl/3-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">preset_boundary_tuple_from_acl</span><span class="p" data-group-id="4562784221-1">(</span><span class="p" data-group-id="4562784221-2">%</span><span class="nc" data-group-id="4562784221-2">Bonfire.Data.AccessControl.Acl</span><span class="p" data-group-id="4562784221-2">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4562784221-2">}</span><span class="p" data-group-id="4562784221-1">)</span><span class="w">
</span><span class="p" data-group-id="4562784221-3">{</span><span class="s">&quot;public&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Public&quot;</span><span class="p" data-group-id="4562784221-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">preset_boundary_tuple_from_acl</span><span class="p" data-group-id="4562784221-4">(</span><span class="p" data-group-id="4562784221-5">%</span><span class="nc" data-group-id="4562784221-5">Bonfire.Data.AccessControl.Acl</span><span class="p" data-group-id="4562784221-5">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4562784221-5">}</span><span class="p">,</span><span class="w"> </span><span class="ss">:group</span><span class="p" data-group-id="4562784221-4">)</span><span class="w">
</span><span class="p" data-group-id="4562784221-6">{</span><span class="s">&quot;open&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Open&quot;</span><span class="p" data-group-id="4562784221-6">}</span></code></pre>
  </section>
</section>
<section class="detail" id="preset_name/2">

    <span id="preset_name/1"></span>

  <div class="detail-header">
    <a href="#preset_name/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">preset_name(boundaries, include_remote? \\ false)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L38" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Returns the name of a preset boundary given a list of boundaries or other boundary representation.</p><h2 id="preset_name/2-examples" class="section-heading"><a href="#preset_name/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">preset_name</span><span class="p" data-group-id="1418958887-1">(</span><span class="p" data-group-id="1418958887-2">[</span><span class="s">&quot;admins&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;mentions&quot;</span><span class="p" data-group-id="1418958887-2">]</span><span class="p" data-group-id="1418958887-1">)</span><span class="w">
</span><span class="s">&quot;admins&quot;</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">preset_name</span><span class="p" data-group-id="1418958887-3">(</span><span class="s">&quot;public_remote&quot;</span><span class="p">,</span><span class="w"> </span><span class="no">true</span><span class="p" data-group-id="1418958887-3">)</span><span class="w">
</span><span class="s">&quot;public_remote&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="set_boundaries/3">

  <div class="detail-header">
    <a href="#set_boundaries/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">set_boundaries(creator, object, opts)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L520" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Sets or replace boundaries for a given object.</p><h2 id="set_boundaries/3-set-boundaries-on-a-black-object" class="section-heading"><a href="#set_boundaries/3-set-boundaries-on-a-black-object" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Set boundaries on a black object</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">set_boundaries</span><span class="p" data-group-id="3870259402-1">(</span><span class="p" data-group-id="3870259402-2">%</span><span class="nc" data-group-id="3870259402-2">User</span><span class="p" data-group-id="3870259402-2">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="3870259402-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3870259402-3">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="3870259402-3">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3870259402-4">[</span><span class="ss">boundary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;public&quot;</span><span class="p" data-group-id="3870259402-4">]</span><span class="p" data-group-id="3870259402-1">)</span><span class="w">
</span><span class="p" data-group-id="3870259402-5">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ss">:granted</span><span class="p" data-group-id="3870259402-5">}</span></code></pre><h2 id="set_boundaries/3-replace-boundaries-on-an-existing-object-that-previously-had-a-preset-applied" class="section-heading"><a href="#set_boundaries/3-replace-boundaries-on-an-existing-object-that-previously-had-a-preset-applied" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Replace boundaries on an existing object that previously had a preset applied</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">set_boundaries</span><span class="p" data-group-id="7896092717-1">(</span><span class="p" data-group-id="7896092717-2">%</span><span class="nc" data-group-id="7896092717-2">User</span><span class="p" data-group-id="7896092717-2">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="7896092717-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7896092717-3">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="7896092717-3">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7896092717-4">[</span><span class="ss">boundary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;local&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">remove_previous_preset</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;public&quot;</span><span class="p" data-group-id="7896092717-4">]</span><span class="p" data-group-id="7896092717-1">)</span><span class="w">
</span><span class="p" data-group-id="7896092717-5">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ss">:granted</span><span class="p" data-group-id="7896092717-5">}</span></code></pre>
  </section>
</section>
<section class="detail" id="take_care_of!/2">

  <div class="detail-header">
    <a href="#take_care_of!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">take_care_of!(things, user)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L590" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Assigns the user as the caretaker of the given object or objects, replacing the existing caretaker, if any.</p><h2 id="take_care_of!/2-examples" class="section-heading"><a href="#take_care_of!/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">take_care_of!</span><span class="p" data-group-id="2369731027-1">(</span><span class="p" data-group-id="2369731027-2">[</span><span class="p" data-group-id="2369731027-3">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="2369731027-3">}</span><span class="p" data-group-id="2369731027-2">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2369731027-4">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="2369731027-4">}</span><span class="p" data-group-id="2369731027-1">)</span><span class="w">
</span><span class="p" data-group-id="2369731027-5">[</span><span class="p" data-group-id="2369731027-6">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">caretaker</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2369731027-7">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">caretaker_id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">caretaker</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2369731027-8">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="2369731027-8">}</span><span class="p" data-group-id="2369731027-7">}</span><span class="p" data-group-id="2369731027-6">}</span><span class="p" data-group-id="2369731027-5">]</span></code></pre>
  </section>
</section>
<section class="detail" id="user_default_boundaries/1">

  <div class="detail-header">
    <a href="#user_default_boundaries/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">user_default_boundaries(local?)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L617" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Returns the default boundaries to be set for new users from config.</p>
  </section>
</section>
<section class="detail" id="users_grants_on/2">

  <div class="detail-header">
    <a href="#users_grants_on/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">users_grants_on(users, things)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L298" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Lists grants for a given set of users on a set of objects.</p><h2 id="users_grants_on/2-examples" class="section-heading"><a href="#users_grants_on/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">users_grants_on</span><span class="p" data-group-id="1980196062-1">(</span><span class="p" data-group-id="1980196062-2">[</span><span class="p" data-group-id="1980196062-3">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1980196062-3">}</span><span class="p" data-group-id="1980196062-2">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1980196062-4">[</span><span class="p" data-group-id="1980196062-5">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="1980196062-5">}</span><span class="p" data-group-id="1980196062-4">]</span><span class="p" data-group-id="1980196062-1">)</span></code></pre>
  </section>
</section>
<section class="detail" id="users_grants_on/3">

  <div class="detail-header">
    <a href="#users_grants_on/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">users_grants_on(users, things, verbs)</h1>


        <a href="https://github.com/bonfire-networks/bonfire_boundaries/blob/main/lib/boundaries.ex#L311" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Lists grants for a given set of users on a set of objects, filtered by verbs.</p><h2 id="users_grants_on/3-examples" class="section-heading"><a href="#users_grants_on/3-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Bonfire.Boundaries</span><span class="o">.</span><span class="n">users_grants_on</span><span class="p" data-group-id="1307361772-1">(</span><span class="p" data-group-id="1307361772-2">[</span><span class="p" data-group-id="1307361772-3">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1307361772-3">}</span><span class="p" data-group-id="1307361772-2">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1307361772-4">[</span><span class="p" data-group-id="1307361772-5">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="1307361772-5">}</span><span class="p" data-group-id="1307361772-4">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1307361772-6">[</span><span class="ss">:see</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="p" data-group-id="1307361772-6">]</span><span class="p" data-group-id="1307361772-1">)</span><span class="w">
</span><span class="p" data-group-id="1307361772-7">[</span><span class="p" data-group-id="1307361772-8">%</span><span class="nc" data-group-id="1307361772-8">Bonfire.Boundaries.Summary</span><span class="p" data-group-id="1307361772-8">{</span><span class="ss">object_id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">subject_id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1307361772-8">}</span><span class="p" data-group-id="1307361772-7">]</span></code></pre>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Bonfire.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.4) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
